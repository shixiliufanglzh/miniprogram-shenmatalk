<!--pages/createRedPacket/createRedPacket.wxml-->
<import src="../assets/we-cropper/we-cropper.wxml"/>

<view class="cropper-wrapper" hidden="{{hideCropper}}">
    <template is="we-cropper" data="{{...cropperOpt}}"/>
    <view class="cropper-buttons">
         <view class="upload" bindtap="cancelSelected">取消</view> 
        <view class="getCropperImage" bindtap="getCropperImage">上传</view>
    </view>
</view>

<view bind:tap="{{!optionsState ? 'hideOptions' : 'null'}}">
  <form class="send_red_packet" bindsubmit="formSubmit" report-submit="{{true}}">
    <block>
      <view class="section token_wrp">
        <label class="title" for="token">语音口令</label>
        <view class="options" bind:tap="showOptions">
          <image src="../../images/expression.png" mode="aspectFit" class="example"></image>
        </view>
        <input name="token" type="text" id="token" value="{{selectedToken}}" maxlength="50" class="input token" placeholder="输入或选择口令" bindinput='tokenInput'/>
      </view>
      <text class="token_prompt">小伙伴们说对口令就能获得随机打赏</text>
    </block>

    <block>
      <view class="section token_wrp">
        <label class="title" for="money">打赏金额</label>
        <span class="unit">元</span>
        <input name="money" type="digit" id="money" class="input money" bindinput="limitInput" placeholder="请输入金额" value="{{selectedMoney}}" />
      </view>
      <view class="recommend">
        <span wx:for="{{recommendMoney}}" wx:key="{{item.id}}" data-id="{{item.id}}" class="item {{item.state}}" bind:tap="selectMoney">{{item.value}}元</span>
      </view>
    </block>

    <view class="section token_wrp">
      <label class="title" for="count">总数量</label>
      <span class="unit">个</span>
      <input name="count" type="number" id="count" class="input count" placeholder="请输入数量" />
    </view>

    <view class="adver_wrp">
      <button plain="{{true}}" size="mini" bind:tap="uploadPic">{{!!picUrl ? '已上传图片' : '上传宣传图片'}}<text>(选填，尺寸750*190)</text></button>
      <button plain="{{true}}" size="mini" class="delete" hidden="{{!picUrl}}" bind:tap="deletePic">删除</button>
       <!-- <text class="pic_limit">*建议尺寸750*190</text>  -->
    </view>

    <view class="section">
      <checkbox-group name="checkbox" class="checkbox_wrp" bindchange="checkboxChange">
        <label class="open"><checkbox value="open"/>公开投放到红包广场</label>
        <label class="anonymous"><checkbox value="anonymous"/>匿名发布</label>
      </checkbox-group>
    </view>

    <view class="btn-area">
      <checkbox-group name="cashCheck">
        <label class="money_prompt"><checkbox value="cash"/>优先使用余额</label>
      </checkbox-group>
      <button class="submit" formType="submit">生成语音口令</button>
    </view>

  </form>
</view>

<view class="token_options" hidden="{{optionsState}}">
  <view class="title">常用口令</view>
  <view class="list">
    <view class="item" wx:for="{{tokenArr}}" wx:for-index="idx" wx:for-item="item" wx:key="{{idx}}" data-content="{{item}}" bind:tap="selectToken">{{item}}</view>
  </view>
</view>
